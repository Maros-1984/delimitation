Refactor both backend and frontend for better readability